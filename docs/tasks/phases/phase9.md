# Phase 9: UI/UXの改善と機能の洗練

ユーザー体験を向上させるためのUI調整と、使い勝手を良くするための機能改善を行います。

## 1. UI配置と操作性の改善
- [x] **結合ボタン(Merge)の配置変更**
  - **現状**: コンテキストメニューやツールバーなど（現状の実装位置）にある。
  - **変更**: 波形表示下部の「Split」ボタンの横に移動する。
  - **目的**: 分割と結合という関連する操作を近くに配置し、編集作業の効率を上げる。

- [x] **停止ボタンの挙動変更**
  - **現状**: 停止ボタンを押すと、再生位置（シークバー）がファイルの先頭（またはセグメントの先頭）に戻ってしまう。
  - **変更**: 停止ボタンを押しても、再生位置をリセットせず、押した時点の位置（現在の再生位置）に留まるようにする（実質的なPause挙動への統一、またはStop動作の仕様変更）。
  - **目的**: 聞き直しや特定箇所からの再開を容易にするため。

- [x] **Inspector領域の表示順変更**
  - **現状**: （現在の実装順序）
  - **変更**: 以下の順序で要素を配置する。
    1.  **セグメントタイプ** (Type)
    2.  **時間情報** (Time: Start / Duration)
    3.  **ラベル** (Label)
    4.  **文字起こしテキスト** (Transcription Text)
  - **目的**: 頻繁に確認・編集する情報の優先度に基づき、視線の移動をスムーズにする。

## 2. 波形表示とナビゲーションの改善
- [x] **ドラッグ&ドロップでの音声ファイル読み込み**
  - **機能**: アプリケーションウィンドウ（または波形エリア）に音声ファイルをドラッグ&ドロップすることで、ファイルを読み込めるようにする。
  - **詳細**:
    - 対応ファイル形式のみ受け付ける。
    - 既にファイルが開かれている場合は、新規プロジェクトとして開くか確認するか、あるいは単に置換する（現状の読み込みフローに準拠）。

- [x] **ズーム時のフォーカス維持**
  - **現状**: 波形をズームイン/アウトした際、表示範囲の中心や左端が基準となり、現在の再生位置（シークバー）が画面外に消えてしまうことがある。
  - **変更**: ズーム操作を行った際、現在のシークバーの位置が常に表示範囲内（できれば中心付近）に維持されるように表示オフセットを調整する。
  - **目的**: 編集中の箇所を見失わないようにするため。

- [x] **再生中の自動スクロール追従**
  - **現状**: 波形がズーム拡大されている状態で再生を進めると、シークバーが画面右端に到達しても表示範囲が移動せず、シークバーが見えなくなる。
  - **変更**: 再生中、シークバーが表示範囲の外に出そうになったら（あるいは常に）、波形表示をスクロールさせてシークバーを表示範囲内に収め続ける。
  - **目的**: 長い録音を拡大して確認する際、手動でスクロールし続ける手間を省く。

## 3. 機能追加
- [x] **セグメントのエクスポート除外設定**
  - **機能**: 特定のセグメントをファイル書き出し（Export）の対象から外す機能を追加する。
  - **UI変更 (Inspector)**: Inspectorに「Export対象から除外」するスイッチ（Toggle）を追加する。
  - **UI変更 (波形)**: 除外設定されたセグメントは、波形表示上で見た目が変わるようにする（例: グレーアウトする、斜線が入る、アイコンが表示される等）。
  - **ロジック変更**: ExportServiceにおいて、このフラグが立っているセグメントは書き出しリストからスキップする。