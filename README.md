# RehearsalLink: 指導と演奏を繋ぐ、音楽リハーサル専用インデクサー

リハーサル録音の聞き返しを、かつてないほどスムーズに。

RehearsalLinkは、音楽合奏の録音ファイルをAI解析し、**「いつ、誰がどんな指示をしたか」**と**「どこで演奏が行われたか」**を瞬時に可視化するmacOSアプリケーションです。

## 音楽家・指導者のための「聞き返し」改革

合奏練習を録音しても、数時間のデータから特定の指示箇所や演奏の失敗箇所を探すのは大変な作業です。RehearsalLinkは、音声解析技術によって録音データに自動で「目次」を付け、あなたの貴重な時間を節約します。

### 🌟 主なメリット
- **指示箇所を秒速で特定**: 指導者の声と演奏を自動で色分け。波形をクリックするだけで、聞きたい箇所へ一っ飛び。
- **言葉を可視化**: 音声認識機能により、指示内容をテキスト化。録音を聞かなくても何について話していたかが分かります。
- **必要な音だけを取り出す**: 「演奏のみ」あるいは「会話のみ」を個別に書き出し。練習の振り返り資料作成に最適。
- **直感的な編集**: 自動判定が間違っていても大丈夫。境界をドラッグしたり、セグメントを結合・分割したりして、完璧なインデックスを作成できます。

## 🚀 主要機能

### 1. 自動セグメンテーション & カラーマーキング
音量と周波数特性に基づき、演奏・会話・無音を自動的に識別。波形上に直感的なカラーで表示されます。
- 🟦 **演奏 (Performance)**: 合奏箇所
- 🟩 **会話 (Conversation)**: 指導者やメンバーの指示・対話（文字起こし済みは紫）
- ⬜ **無音 (Silence)**: 休止時間

### 2. 音声テキスト化 (Transcription)
macOS標準の音声認識エンジンを活用し、会話セグメントの内容をテキストに変換。テキストエディタで内容を修正し、プロジェクトに保存できます。全会話の一括文字起こし書き出しにも対応。

### 3. スマートな書き出し (Export)
特定のタイプ（演奏だけ、会話だけ）のセグメントを結合して一つの音声ファイルとして保存。移動中の確認用や、メンバーへの共有用ファイルの作成が捗ります。

### 4. 柔軟なプロジェクト管理
一度解析・編集した内容はプロジェクトファイル（.rehearsallink.json）として保存。音声ファイルを開いた際、同一フォルダにプロジェクトがあれば自動で読み込むため、作業の続きからスムーズに開始できます。

## 🛠 技術仕様

- **OS**: macOS 15.0+
- **開発言語**: Swift 6.0 (SwiftUI)
- **コア技術**: 
  - **AVFoundation**: 低遅延なオーディオ再生とデコード
  - **Accelerate (vDSP)**: 高速な信号処理による波形生成と特徴抽出
  - **Speech framework**: プライバシーに配慮したオンデバイス音声認識
- **アーキテクチャ**: MVVM (Model-View-ViewModel)

---

## 開発と進捗
詳細な開発ロードマップと現在の状況については、以下のドキュメントを参照してください。
- [進捗状況 (progress.md)](./docs/tasks/progress.md)
- [完了したタスク (completed.md)](./docs/tasks/completed.md)
- [開発ガイドライン (GEMINI.md)](./docs/tasks/GEMINI.md)